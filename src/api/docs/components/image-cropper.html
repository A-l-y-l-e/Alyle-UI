<!-- Do not edit this file because it is automatically generated. -->
<h1 id="image-cropper">Image Cropper</h1>
<p>Resize, rotate and crop images with Canvas.</p>
<p>Add the <code class="ttm ttx"><span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;</span>ly-img-cropper</span><span class="tt18 ttae">></span></span></code> to your template:</p>
<pre class="ttb"><code prsm class="ttm"><span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;</span>ly-img-cropper</span>
  <span class="tt18 ttbx">[config]</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>myConfig<span class="tt18 ttae">"</span></span>
  <span class="tt18 ttbx">[(scale)]</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>scale<span class="tt18 ttae">"</span></span>
  <span class="tt18 ttbx">(ready)</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>onReady($event)<span class="tt18 ttae">"</span></span>
  <span class="tt18 ttbx">(minScale)</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>minScale = $event<span class="tt18 ttae">"</span></span>
  <span class="tt18 ttbx">(cleaned)</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>ready = false<span class="tt18 ttae">"</span></span>
  <span class="tt18 ttbx">(cropped)</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>onCropped($event)<span class="tt18 ttae">"</span></span>
  <span class="tt18 ttbx">(loaded)</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>onLoaded($event)<span class="tt18 ttae">"</span></span>
  <span class="tt18 ttbx">(error)</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>onError($event)<span class="tt18 ttae">"</span></span>
<span class="tt18 ttae">></span></span>
  <span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;</span>span</span><span class="tt18 ttae">></span></span>Drag and drop image<span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;/</span>span</span><span class="tt18 ttae">></span></span>
<span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;/</span>ly-img-cropper</span><span class="tt18 ttae">></span></span>

<span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;</span>ng-container</span> <span class="tt18 ttbx">*ngIf</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>ready<span class="tt18 ttae">"</span></span><span class="tt18 ttae">></span></span>
  <span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;</span>ly-slider</span>
    <span class="tt18 ttbx">[thumbVisible]</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>false<span class="tt18 ttae">"</span></span>
    <span class="tt18 ttbx">[min]</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>minScale<span class="tt18 ttae">"</span></span>
    <span class="tt18 ttbx">[max]</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>1<span class="tt18 ttae">"</span></span>
    <span class="tt18 ttbx">[(ngModel)]</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>scale<span class="tt18 ttae">"</span></span>
    <span class="tt18 ttbx">(input)</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>onSliderInput($event)<span class="tt18 ttae">"</span></span>
    <span class="tt18 ttbx">step</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>0.000001<span class="tt18 ttae">"</span></span><span class="tt18 ttae">></span></span><span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;/</span>ly-slider</span><span class="tt18 ttae">></span></span>
<span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;/</span>ng-container</span><span class="tt18 ttae">></span></span>
</code></pre>
<p>You can use <a href="https://alyle.io/api/@alyle/ui/image-cropper/ImgCropperConfig"><code class="ttm ttx">ImgCropperConfig</code></a> to configure the cropper.</p>
<pre class="ttb"><code prsm class="ttm"><span class="tt18 tt1j">export</span> <span class="tt18 tt1j">class</span> <span class="tt18 ttc8">MyComponent</span> <span class="tt18 ttae">&#123;</span>
  ready<span class="tt18 ttb0">:</span> <span class="tt18 ttcj">boolean</span><span class="tt18 ttae">;</span>
  scale<span class="tt18 ttb0">:</span> <span class="tt18 ttcj">number</span><span class="tt18 ttae">;</span>
  minScale<span class="tt18 ttb0">:</span> <span class="tt18 ttcj">number</span><span class="tt18 ttae">;</span>
  <span class="tt18 ttdr"><span class="tt18 ttdg ttb0">@</span><span class="tt18 tta3">ViewChild</span></span><span class="tt18 ttae">(</span>LyImageCropper<span class="tt18 ttae">,</span> <span class="tt18 ttae">&#123;</span> <span class="tt18 tt1j">static</span><span class="tt18 ttb0">:</span> <span class="tt18 tted">true</span> <span class="tt18 ttae">&#125;</span><span class="tt18 ttae">)</span> cropper<span class="tt18 ttb0">:</span> LyImageCropper<span class="tt18 ttae">;</span>
  myConfig<span class="tt18 ttb0">:</span> ImgCropperConfig <span class="tt18 ttb0">=</span> <span class="tt18 ttae">&#123;</span>
    width<span class="tt18 ttb0">:</span> <span class="tt18 ttap">150</span><span class="tt18 ttae">,</span> <span class="tt18 tt3o">// Default `250`</span>
    height<span class="tt18 ttb0">:</span> <span class="tt18 ttap">150</span><span class="tt18 ttae">,</span> <span class="tt18 tt3o">// Default `200`</span>
    type<span class="tt18 ttb0">:</span> <span class="tt18 tt3z">'image/png'</span><span class="tt18 ttae">,</span> <span class="tt18 tt3o">// Or you can also use `image/jpeg`</span>
    output<span class="tt18 ttb0">:</span> <span class="tt18 ttae">&#123;</span>
      width<span class="tt18 ttb0">:</span> <span class="tt18 ttap">200</span>
    <span class="tt18 ttae">&#125;</span>
  <span class="tt18 ttae">&#125;</span><span class="tt18 ttae">;</span>
  <span class="tt18 tta3">onCropped</span><span class="tt18 ttae">(</span>e<span class="tt18 ttb0">:</span> ImgCropperEvent<span class="tt18 ttae">)</span> <span class="tt18 ttae">&#123;</span>
    <span class="tt18 ttcj">console</span><span class="tt18 ttae">.</span><span class="tt18 tta3">log</span><span class="tt18 ttae">(</span><span class="tt18 tt3z">'Cropped img: '</span><span class="tt18 ttae">,</span> e<span class="tt18 ttae">)</span><span class="tt18 ttae">;</span>
  <span class="tt18 ttae">&#125;</span>

  <span class="tt18 tta3">onReady</span><span class="tt18 ttae">(</span>e<span class="tt18 ttb0">:</span> ImgCropperEvent<span class="tt18 ttae">)</span> <span class="tt18 ttae">&#123;</span>
    <span class="tt18 tt1j">this</span><span class="tt18 ttae">.</span>ready <span class="tt18 ttb0">=</span> <span class="tt18 tted">true</span><span class="tt18 ttae">;</span>
    <span class="tt18 ttcj">console</span><span class="tt18 ttae">.</span><span class="tt18 tta3">log</span><span class="tt18 ttae">(</span><span class="tt18 tt3z">'Img ready for cropper'</span><span class="tt18 ttae">,</span> e<span class="tt18 ttae">)</span><span class="tt18 ttae">;</span>
  <span class="tt18 ttae">&#125;</span>

  <span class="tt18 tta3">onError</span><span class="tt18 ttae">(</span>e<span class="tt18 ttb0">:</span> ImgCropperErrorEvent<span class="tt18 ttae">)</span> <span class="tt18 ttae">&#123;</span>
    <span class="tt18 ttcj">console</span><span class="tt18 ttae">.</span><span class="tt18 tta3">warn</span><span class="tt18 ttae">(</span><span class="tt18 tte2"><span class="tt18 template-punctuation tt3z">`</span><span class="tt18 tt3z">'</span><span class="tt18 interpolation"><span class="tt18 interpolation-punctuation ttae">$&#123;</span>e<span class="tt18 ttae">.</span>name<span class="tt18 interpolation-punctuation ttae">&#125;</span></span><span class="tt18 tt3z">' is not a valid image</span><span class="tt18 template-punctuation tt3z">`</span></span><span class="tt18 ttae">,</span> e<span class="tt18 ttae">)</span><span class="tt18 ttae">;</span>
  <span class="tt18 ttae">&#125;</span>

  <span class="tt18 tta3">onSliderInput</span><span class="tt18 ttae">(</span>event<span class="tt18 ttb0">:</span> LySliderChange<span class="tt18 ttae">)</span> <span class="tt18 ttae">&#123;</span>
    <span class="tt18 tt1j">this</span><span class="tt18 ttae">.</span>scale <span class="tt18 ttb0">=</span> event<span class="tt18 ttae">.</span>value <span class="tt18 tt1j">as</span> <span class="tt18 ttcj">number</span><span class="tt18 ttae">;</span>
  <span class="tt18 ttae">&#125;</span>
<span class="tt18 ttae">&#125;</span>
</code></pre>
<h2 id="rotate-image">Rotate Image</h2>
<p>For rotation we can use the <code class="ttm ttx"><span class="tt18 tta3">rotate</span><span class="tt18 ttae">(</span>degrees<span class="tt18 ttb0">:</span>&nbsp;<span class="tt18 ttcj">number</span><span class="tt18 ttae">)</span></code> method.</p>
<p>It can only be rotated 90 degrees, in each execution, for example, it cannot be rotated from 0 to 45 degrees. And if the number is negative, it will rotate counterclockwise</p>
<p>e.g.</p>
<pre class="ttb"><code prsm class="ttm"><span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;</span>button</span> <span class="tt18 ttbx">(click)</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>cropper.rotate(-90)<span class="tt18 ttae">"</span></span><span class="tt18 ttae">></span></span>rotate counterclockwise<span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;/</span>button</span><span class="tt18 ttae">></span></span>
or
<span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;</span>button</span> <span class="tt18 ttbx">(click)</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>cropper.rotate(90)<span class="tt18 ttae">"</span></span><span class="tt18 ttae">></span></span>rotate clockwise<span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;/</span>button</span><span class="tt18 ttae">></span></span>
</code></pre>
<h2 id="error-handling">Error Handling</h2>
<p>By default if a file that is not an image is loaded, an error will be emit, the error can be captured by the <code class="ttm ttx">error</code> event.</p>
<p>e.g.</p>
<pre class="ttb"><code prsm class="ttm"><span class="tt18 tt5i"><span class="tt18 tt5i"><span class="tt18 ttae">&lt;</span>ly-img-cropper</span>
  <span class="tt18 ttbx">...</span>
  <span class="tt18 ttbx">(error)</span><span class="tt18 ttbm"><span class="tt18 ttae attr-equals">=</span><span class="tt18 ttae">"</span>onError($event)<span class="tt18 ttae">"</span></span>
<span class="tt18 ttae">></span></span>
</code></pre>
<pre class="ttb"><code prsm class="ttm"><span class="tt18 tta3">onError</span><span class="tt18 ttae">(</span>e<span class="tt18 ttb0">:</span> ImgCropperErrorEvent<span class="tt18 ttae">)</span> <span class="tt18 ttae">&#123;</span>
  <span class="tt18 ttcj">console</span><span class="tt18 ttae">.</span><span class="tt18 tta3">warn</span><span class="tt18 ttae">(</span><span class="tt18 tte2"><span class="tt18 template-punctuation tt3z">`</span><span class="tt18 tt3z">'</span><span class="tt18 interpolation"><span class="tt18 interpolation-punctuation ttae">$&#123;</span>e<span class="tt18 ttae">.</span>name<span class="tt18 interpolation-punctuation ttae">&#125;</span></span><span class="tt18 tt3z">' is not a valid image</span><span class="tt18 template-punctuation tt3z">`</span></span><span class="tt18 ttae">,</span> e<span class="tt18 ttae">)</span><span class="tt18 ttae">;</span>
<span class="tt18 ttae">&#125;</span>
</code></pre>
<h2 id="cropper-with-dialog-and-resizable-area">Cropper with Dialog and resizable area</h2>
<p>Use <code class="ttm ttx">resizableArea</code> to have a resizable cropper area.</p>
<p>The below example is shown with <code class="ttm ttx">resizableArea</code> and <code class="ttm ttx">keepAspectRatio</code>, by default they are disabled.</p>
<pre class="ttb"><code prsm class="ttm"><span class="tt18 tt1j">export</span> <span class="tt18 tt1j">class</span> <span class="tt18 ttc8">MyComponent</span> <span class="tt18 ttae">&#123;</span>
  <span class="tt18 ttb0">...</span>
  myConfig<span class="tt18 ttb0">:</span> ImgCropperConfig <span class="tt18 ttb0">=</span> <span class="tt18 ttae">&#123;</span>
    resizableArea<span class="tt18 ttb0">:</span> <span class="tt18 tted">true</span><span class="tt18 ttae">,</span>
    keepAspectRatio<span class="tt18 ttb0">:</span> <span class="tt18 tted">true</span>
    <span class="tt18 ttb0">...</span>
  <span class="tt18 ttae">&#125;</span><span class="tt18 ttae">;</span>
<span class="tt18 ttae">&#125;</span>
</code></pre>
<demo-view
  path="docs/components/image-cropper-demo/cropper-with-dialog"
  extra-paths="cropper-dialog.ts,cropper-dialog.html"
>
  <aui-cropper-with-dialog></aui-cropper-with-dialog>
</demo-view>
<h2 id="cropper-image-from-url">Cropper image from URL</h2>
<p>You can use the <code class="ttm ttx"><span class="tt18 tta3">loadImage</span><span class="tt18 ttae">(</span>config<span class="tt18 ttb0">:</span> ImgCropperLoaderConfig<span class="tt18 ttae">)</span></code> method.</p>
<pre class="ttb"><code prsm class="ttm"><span class="tt18 tt1j">const</span> config <span class="tt18 ttb0">=</span> <span class="tt18 ttae">&#123;</span>
  scale<span class="tt18 ttb0">:</span> <span class="tt18 ttap">0.745864772531767</span><span class="tt18 ttae">,</span>
  xOrigin<span class="tt18 ttb0">:</span> <span class="tt18 ttap">642.380608078103</span><span class="tt18 ttae">,</span>
  yOrigin<span class="tt18 ttb0">:</span> <span class="tt18 ttap">236.26357452128866</span><span class="tt18 ttae">,</span>
  <span class="tt18 tt3o">// areaWidth: 100, // Use when cropper area is not fixed</span>
  <span class="tt18 tt3o">// areaHeight: 100,</span>
  rotation<span class="tt18 ttb0">:</span> <span class="tt18 ttap">0</span><span class="tt18 ttae">,</span>
  originalDataURL<span class="tt18 ttb0">:</span> <span class="tt18 tt3z">'https://...'</span>
<span class="tt18 ttae">&#125;</span><span class="tt18 ttae">;</span>
<span class="tt18 tt1j">this</span><span class="tt18 ttae">.</span>cropper<span class="tt18 ttae">.</span><span class="tt18 tta3">loadImage</span><span class="tt18 ttae">(</span>config<span class="tt18 ttae">)</span><span class="tt18 ttae">;</span>
</code></pre>
<demo-view path="docs/components/image-cropper-demo/image-cropper-example-01">
  <image-cropper-example-01></image-cropper-example-01>
</demo-view>
<h2 id="full-cropper-area-width">Full cropper area width</h2>
<p>The demo below has an aspect ratio of 3:1 and results in an image with a maximum width of 600px.</p>
<pre class="ttb"><code prsm class="ttm">myConfig<span class="tt18 ttb0">:</span> ImgCropperConfig <span class="tt18 ttb0">=</span> <span class="tt18 ttae">&#123;</span>
  width<span class="tt18 ttb0">:</span> <span class="tt18 ttap">200</span> <span class="tt18 ttb0">*</span> <span class="tt18 ttap">3</span><span class="tt18 ttae">,</span>
  height<span class="tt18 ttb0">:</span> <span class="tt18 ttap">200</span><span class="tt18 ttae">,</span>
  keepAspectRatio<span class="tt18 ttb0">:</span> <span class="tt18 tted">true</span><span class="tt18 ttae">,</span>
  responsiveArea<span class="tt18 ttb0">:</span> <span class="tt18 tted">true</span><span class="tt18 ttae">,</span>
  output<span class="tt18 ttb0">:</span> ImgResolution<span class="tt18 ttae">.</span>OriginalImage<span class="tt18 ttae">,</span>
<span class="tt18 ttae">&#125;</span><span class="tt18 ttae">;</span>
</code></pre>
<demo-view path="docs/components/image-cropper-demo/full-cropper-width">
  <aui-full-cropper-width></aui-full-cropper-width>
</demo-view>
<h2 id="crop-circle">Crop Circle</h2>
<p>You can add <code class="ttm ttx">round</code> to the cropper config. If set to true, <code class="ttm ttx">keepAspectRatio</code> will also be true (since an oval image would not make sense).</p>
<pre class="ttb"><code prsm class="ttm">myConfig<span class="tt18 ttb0">:</span> ImgCropperConfig <span class="tt18 ttb0">=</span> <span class="tt18 ttae">&#123;</span>
  width<span class="tt18 ttb0">:</span> <span class="tt18 ttap">150</span><span class="tt18 ttae">,</span>
  height<span class="tt18 ttb0">:</span> <span class="tt18 ttap">150</span><span class="tt18 ttae">,</span>
  round<span class="tt18 ttb0">:</span> <span class="tt18 tted">true</span><span class="tt18 ttae">,</span>
  <span class="tt18 ttb0">...</span>
<span class="tt18 ttae">&#125;</span><span class="tt18 ttae">;</span>
</code></pre>
<demo-view path="docs/components/image-cropper-demo/crop-circle">
  <aui-crop-circle></aui-crop-circle>
</demo-view>
<h2 id="just-crop-image">Just crop image</h2>
<p>Just crop the output image and it is not resized. </p>
<demo-view path="docs/components/image-cropper-demo/image-cropper-example-02">
  <image-cropper-example-02></image-cropper-example-02>
</demo-view>
<h2 id="set-output-image">Set output image</h2>
<p>If you want the output image to always be <code class="ttm ttx">40x40</code>.</p>
<pre class="ttb"><code prsm class="ttm">myConfig<span class="tt18 ttb0">:</span> ImgCropperConfig <span class="tt18 ttb0">=</span> <span class="tt18 ttae">&#123;</span>
  width<span class="tt18 ttb0">:</span> <span class="tt18 ttap">150</span><span class="tt18 ttae">,</span>
  height<span class="tt18 ttb0">:</span> <span class="tt18 ttap">150</span><span class="tt18 ttae">,</span>
  type<span class="tt18 ttb0">:</span> <span class="tt18 tt3z">'image/png'</span><span class="tt18 ttae">,</span>
  output<span class="tt18 ttb0">:</span> <span class="tt18 ttae">&#123;</span>
    width<span class="tt18 ttb0">:</span> <span class="tt18 ttap">40</span><span class="tt18 ttae">,</span>
    height<span class="tt18 ttb0">:</span> <span class="tt18 ttap">40</span>
  <span class="tt18 ttae">&#125;</span><span class="tt18 ttae">,</span>
  <span class="tt18 ttb0">...</span>
<span class="tt18 ttae">&#125;</span><span class="tt18 ttae">;</span>
</code></pre>
<p>You can also just define <code class="ttm ttx">width</code> or <code class="ttm ttx">height</code>.</p>
<pre class="ttb"><code prsm class="ttm">myConfig<span class="tt18 ttb0">:</span> ImgCropperConfig <span class="tt18 ttb0">=</span> <span class="tt18 ttae">&#123;</span>
  width<span class="tt18 ttb0">:</span> <span class="tt18 ttap">150</span><span class="tt18 ttae">,</span>
  height<span class="tt18 ttb0">:</span> <span class="tt18 ttap">150</span><span class="tt18 ttae">,</span>
  type<span class="tt18 ttb0">:</span> <span class="tt18 tt3z">'image/png'</span><span class="tt18 ttae">,</span>
  output<span class="tt18 ttb0">:</span> <span class="tt18 ttae">&#123;</span>
    width<span class="tt18 ttb0">:</span> <span class="tt18 ttap">40</span><span class="tt18 ttae">,</span>
    height<span class="tt18 ttb0">:</span> <span class="tt18 ttap">0</span> <span class="tt18 tt3o">// Will be defined automatically</span>
  <span class="tt18 ttae">&#125;</span><span class="tt18 ttae">,</span>
  <span class="tt18 ttb0">...</span>
<span class="tt18 ttae">&#125;</span><span class="tt18 ttae">;</span>
</code></pre>
<demo-view path="docs/components/image-cropper-demo/image-cropper-example-03">
  <image-cropper-example-03></image-cropper-example-03>
</demo-view>