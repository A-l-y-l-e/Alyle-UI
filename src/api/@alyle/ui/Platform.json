{
  "pkg": "@alyle/ui",
  "name": "Platform",
  "symbol": "Class",
  "code": "<pre class=\"ttb\"><code prsm class=\"ttm\"><span class=\"tt18 tt3o\">/**\n * Service to detect the current platform by comparing the userAgent strings and\n * checking browser-specific global properties.\n */</span>\n<span class=\"tt18 tt1j\">export</span> <span class=\"tt18 tt1j\">class</span> <span class=\"tt18 ttc8\">Platform</span> <span class=\"tt18 ttae\">&#123;</span>\n    <span class=\"tt18 tt1j\">static</span> <span class=\"tt18 tt1j\">readonly</span> isBrowser<span class=\"tt18 ttae\">:</span> <span class=\"tt18 ttcj\">boolean</span> <span class=\"tt18 ttb0\">=</span> <span class=\"tt18 tt1j\">typeof</span> document <span class=\"tt18 ttb0\">===</span> <span class=\"tt18 tt3z\">'object'</span> <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 ttb0\">!</span><span class=\"tt18 ttb0\">!</span>document\n    <span class=\"tt18 tt3o\">/** Layout Engines */</span>\n    <span class=\"tt18 tt1j\">static</span> <span class=\"tt18 tt1j\">readonly</span> <span class=\"tt18 ttbb\">EDGE</span> <span class=\"tt18 ttb0\">=</span> Platform<span class=\"tt18 ttae\">.</span>isBrowser <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 regex\">/(edge)/i</span><span class=\"tt18 ttae\">.</span><span class=\"tt18 tta3\">test</span><span class=\"tt18 ttae\">(</span>navigator<span class=\"tt18 ttae\">.</span>userAgent<span class=\"tt18 ttae\">)</span>\n    <span class=\"tt18 tt1j\">static</span> <span class=\"tt18 tt1j\">readonly</span> <span class=\"tt18 ttbb\">TRIDENT</span> <span class=\"tt18 ttb0\">=</span> Platform<span class=\"tt18 ttae\">.</span>isBrowser <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 regex\">/(msie|trident)/i</span><span class=\"tt18 ttae\">.</span><span class=\"tt18 tta3\">test</span><span class=\"tt18 ttae\">(</span>navigator<span class=\"tt18 ttae\">.</span>userAgent<span class=\"tt18 ttae\">)</span>\n    <span class=\"tt18 tt3o\">// EdgeHTML and Trident mock Blink specific things and need to be excluded from this check.</span>\n    <span class=\"tt18 tt1j\">static</span> <span class=\"tt18 tt1j\">readonly</span> <span class=\"tt18 ttbb\">BLINK</span> <span class=\"tt18 ttb0\">=</span> Platform<span class=\"tt18 ttae\">.</span>isBrowser <span class=\"tt18 ttb0\">&amp;&amp;</span>\n        <span class=\"tt18 ttae\">(</span><span class=\"tt18 ttb0\">!</span><span class=\"tt18 ttb0\">!</span><span class=\"tt18 ttae\">(</span><span class=\"tt18 ttae\">(</span>window <span class=\"tt18 tt1j\">as</span> <span class=\"tt18 ttcj\">any</span><span class=\"tt18 ttae\">)</span><span class=\"tt18 ttae\">.</span>chrome <span class=\"tt18 ttb0\">||</span> hasV8BreakIterator<span class=\"tt18 ttae\">)</span> <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 ttb0\">!</span><span class=\"tt18 ttb0\">!</span><span class=\"tt18 ttbb\">CSS</span> <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 ttb0\">!</span>Platform<span class=\"tt18 ttae\">.</span><span class=\"tt18 ttbb\">EDGE</span> <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 ttb0\">!</span>Platform<span class=\"tt18 ttae\">.</span><span class=\"tt18 ttbb\">TRIDENT</span><span class=\"tt18 ttae\">)</span>\n    <span class=\"tt18 tt3o\">// Webkit is part of the userAgent in EdgeHTML, Blink and Trident. Therefore we need to</span>\n    <span class=\"tt18 tt3o\">// ensure that Webkit runs standalone and is not used as another engine's base.</span>\n    <span class=\"tt18 tt1j\">static</span> <span class=\"tt18 tt1j\">readonly</span> <span class=\"tt18 ttbb\">WEBKIT</span> <span class=\"tt18 ttb0\">=</span> Platform<span class=\"tt18 ttae\">.</span>isBrowser <span class=\"tt18 ttb0\">&amp;&amp;</span>\n        <span class=\"tt18 regex\">/AppleWebKit/i</span><span class=\"tt18 ttae\">.</span><span class=\"tt18 tta3\">test</span><span class=\"tt18 ttae\">(</span>navigator<span class=\"tt18 ttae\">.</span>userAgent<span class=\"tt18 ttae\">)</span> <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 ttb0\">!</span>Platform<span class=\"tt18 ttae\">.</span><span class=\"tt18 ttbb\">BLINK</span> <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 ttb0\">!</span>Platform<span class=\"tt18 ttae\">.</span><span class=\"tt18 ttbb\">EDGE</span> <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 ttb0\">!</span>Platform<span class=\"tt18 ttae\">.</span><span class=\"tt18 ttbb\">TRIDENT</span>\n    <span class=\"tt18 tt3o\">/** Browsers and Platform Types */</span>\n    <span class=\"tt18 tt1j\">static</span> <span class=\"tt18 tt1j\">readonly</span> <span class=\"tt18 ttbb\">IOS</span> <span class=\"tt18 ttb0\">=</span> Platform<span class=\"tt18 ttae\">.</span>isBrowser <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 regex\">/iPad|iPhone|iPod/</span><span class=\"tt18 ttae\">.</span><span class=\"tt18 tta3\">test</span><span class=\"tt18 ttae\">(</span>navigator<span class=\"tt18 ttae\">.</span>userAgent<span class=\"tt18 ttae\">)</span> <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 ttb0\">!</span><span class=\"tt18 ttae\">(</span>window <span class=\"tt18 tt1j\">as</span> <span class=\"tt18 ttcj\">any</span><span class=\"tt18 ttae\">)</span><span class=\"tt18 ttae\">.</span>MSStream\n    <span class=\"tt18 tt3o\">// It's difficult to detect the plain Gecko engine, because most of the browsers identify</span>\n    <span class=\"tt18 tt3o\">// them self as Gecko-like browsers and modify the userAgent's according to that.</span>\n    <span class=\"tt18 tt3o\">// Since we only cover one explicit Firefox case, we can simply check for Firefox</span>\n    <span class=\"tt18 tt3o\">// instead of having an unstable check for Gecko.</span>\n    <span class=\"tt18 tt1j\">static</span> <span class=\"tt18 tt1j\">readonly</span> <span class=\"tt18 ttbb\">FIREFOX</span> <span class=\"tt18 ttb0\">=</span> Platform<span class=\"tt18 ttae\">.</span>isBrowser <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 regex\">/(firefox|minefield)/i</span><span class=\"tt18 ttae\">.</span><span class=\"tt18 tta3\">test</span><span class=\"tt18 ttae\">(</span>navigator<span class=\"tt18 ttae\">.</span>userAgent<span class=\"tt18 ttae\">)</span>\n    <span class=\"tt18 tt3o\">// Trident on mobile adds the android platform to the userAgent to trick detections.</span>\n    <span class=\"tt18 tt1j\">static</span> <span class=\"tt18 tt1j\">readonly</span> <span class=\"tt18 ttbb\">ANDROID</span> <span class=\"tt18 ttb0\">=</span> Platform<span class=\"tt18 ttae\">.</span>isBrowser <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 regex\">/android/i</span><span class=\"tt18 ttae\">.</span><span class=\"tt18 tta3\">test</span><span class=\"tt18 ttae\">(</span>navigator<span class=\"tt18 ttae\">.</span>userAgent<span class=\"tt18 ttae\">)</span> <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 ttb0\">!</span>Platform<span class=\"tt18 ttae\">.</span><span class=\"tt18 ttbb\">TRIDENT</span>\n    <span class=\"tt18 tt3o\">// Safari browsers will include the Safari keyword in their userAgent. Some browsers may fake</span>\n    <span class=\"tt18 tt3o\">// this and just place the Safari keyword in the userAgent. To be more safe about Safari every</span>\n    <span class=\"tt18 tt3o\">// Safari browser should also use Webkit as its layout engine.</span>\n    <span class=\"tt18 tt1j\">static</span> <span class=\"tt18 tt1j\">readonly</span> <span class=\"tt18 ttbb\">SAFARI</span> <span class=\"tt18 ttb0\">=</span> Platform<span class=\"tt18 ttae\">.</span>isBrowser <span class=\"tt18 ttb0\">&amp;&amp;</span> <span class=\"tt18 regex\">/safari/i</span><span class=\"tt18 ttae\">.</span><span class=\"tt18 tta3\">test</span><span class=\"tt18 ttae\">(</span>navigator<span class=\"tt18 ttae\">.</span>userAgent<span class=\"tt18 ttae\">)</span> <span class=\"tt18 ttb0\">&amp;&amp;</span> Platform<span class=\"tt18 ttae\">.</span><span class=\"tt18 ttbb\">WEBKIT</span>\n<span class=\"tt18 ttae\">&#125;</span></code></pre>"
}